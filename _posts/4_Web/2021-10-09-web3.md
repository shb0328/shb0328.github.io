---
layout: "single"
title: "ìŠ¤í”„ë§ë¶€íŠ¸ì™€ AWSë¡œ í˜¼ì êµ¬í˜„í•˜ëŠ” ì›¹ ì„œë¹„ìŠ¤ 3 - Lombok"
categories: [Web]
tags: [Java, SpringBoot, Lombok]
permalink: /web/3
---

# 2ì¥ ìŠ¤í”„ë§ ë¶€íŠ¸ì—ì„œ í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì‘ì„±í•˜ì

## ğŸ’œë¡¬ë³µ(LomBok)ì´ë€?

- Java ë¼ì´ë¸ŒëŸ¬ë¦¬
- Getter, Setter, default Constructure, toString() ë“±ì„ ì–´ë…¸í…Œì´ì…˜ìœ¼ë¡œ ìë™ ìƒì„±í•´ì¤€ë‹¤.
- ì½”ë“œ ìë™ìƒì„±ì„ í†µí•´ ìƒì‚°ì„± í–¥ìƒ, ë°˜ë³µì½”ë“œ ë‹¤ì´ì–´íŠ¸ë¥¼ í†µí•´ ê°€ë…ì„± ë° ìœ ì§€ë³´ìˆ˜ì„± í–¥ìƒì„ ê¸°ëŒ€í•  ìˆ˜ ìˆë‹¤.
- APIì„¤ëª…ê³¼ ë‚´ë¶€ë™ì‘ì„ ìˆ™ì§€í•˜ì§€ì•Šê³  ë§ˆêµ¬ ì‚¬ìš©í•˜ë©´ ì˜ˆìƒì¹˜ëª»í•œ ì—¬ëŸ¬ê°€ì§€ ì˜ˆì™¸ìƒí™©ì´ ë°œìƒí•  ìˆ˜ ìˆì–´ ì£¼ì˜ê°€ í•„ìš”í•˜ë‹¤.

## ğŸ’œì¸í…”ë¦¬ì œì´ì— ë¡¬ë³µì¶”ê°€í•˜ê¸°

>intelliJ 2021.2 ë²„ì „ ê¸°ì¤€

![211009171822.png](/assets/images/211009171822.png)

`[ctrl+shift+A]` ë¥¼ í†µí•´ì„œ Plugins Actionì„ ê²€ìƒ‰í•˜ê³  Market Placeì—ì„œ `Lombok`ì„ ê²€ìƒ‰í•˜ì—¬ ì„¤ì¹˜í•˜ë©´ëœë‹¤.

intelliJ 2021.2 ë²„ì „ì€ ë””í´íŠ¸ë¡œ ì„¤ì¹˜ë˜ì–´ìˆë‹¤.

í•˜ì§€ë§Œ, í”ŒëŸ¬ê·¸ì¸ì´ ì„¤ì¹˜ë˜ì–´ìˆë”ë¼ë„ `.jar` ë¼ì´ë¸ŒëŸ¬ë¦¬ëŠ” ë”°ë¡œ ì„¤ì¹˜í•´ì£¼ì–´ì•¼í•œë‹¤.

`build.gradle` íŒŒì¼ì— ì•„ë˜ì™€ ê°™ì´ dependencyë¥¼ ì¶”ê°€í•´ì¤€ë‹¤.

```groovy
repositories {
    mavenCentral()
}

dependencies {
    ...
    implementation 'org.projectlombok:lombok:1.18.22'
    annotationProcessor 'org.projectlombok:lombok:1.18.22'
    ... 
}

```

`annotationProcessor` ì„ ì‚¬ìš©í•˜ë©´ Gradle 8.0 ê³¼ í˜¸í™˜ë˜ì§€ ì•ŠëŠ” deprecated gradle featureê°€ ì‚¬ìš©ë˜ì—ˆë‹¤ëŠ” ë©”ì„¸ì§€ë¥¼ í™•ì¸í•  ìˆ˜ ìˆë‹¤.

```log
Deprecated Gradle features were used in this build, making it incompatible with Gradle 8.0.
```

í•˜ì§€ë§Œ `annotationProcessor` ì„ ì‚¬ìš©í•˜ì§€ ì•Šìœ¼ë©´, ë‹¤ìŒê³¼ ê°™ì€ ì—ëŸ¬ë¥¼ ë§Œë‚  ìˆ˜ ìˆë‹¤. 

```log
error: variable name not initialized in the default constructor
    private final String name;
                         ^
```

ì–´ì°¨í”¼ Gradle 8.0 ë²„ì „ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒë„ ì•„ë‹ˆê¸° ë•Œë¬¸ì— ê·¸ëƒ¥ ì‚¬ìš©í•˜ê² ë‹¤. 

[ì‹¤ìŠµì„ ìœ„í•´ì„œëŠ” Gradle 4.x ë²„ì „ì„ ì¶”ì²œí•œë‹¤ê³  í•œë‹¤.](https://github.com/jojoldu/freelec-springboot2-webservice/issues/78)

ì±…ì—ì„œëŠ” `File->Settings->Build,Execution,Deployment->Compiler->Annotation Processors` ì—ì„œ `Enable Annotation Processing` ì„¤ì •ì„ ì²´í¬í•´ì£¼ë¼ê³  í•˜ëŠ”ë°, ë‚´ í”„ë¡œì íŠ¸ì—ì„œëŠ” ì„¤ì •ì„ í•´ì œí•´ë„ ì˜¤ë¥˜ê°€ ë‚˜ì§€ëŠ” ì•ŠëŠ”ë‹¤. 

lombok ì„¤ì •ì€ í”„ë¡œì íŠ¸ë§ˆë‹¤ í•„ìš”í•˜ë‹¤.

![211009174543.png](/assets/images/211009174543.png)

## ğŸ’œë¡¬ë³µ ì˜ˆì œ

intellij ì—ì„œëŠ” `[Alt + Insert]` ë‹¨ì¶•í‚¤ë¡œ Getter, Setter, Constructor ë“±ì„ ìë™ì™„ì„±í•´ì£¼ëŠ” í¸ë¦¬í•œ ê¸°ëŠ¥ì„ ì œê³µí•˜ì§€ë§Œ, ê·¸ë˜ë„ ì—¬ì „íˆ ê·€ì°®ë‹¤. ë˜í•œ, ì½”ë“œê°€ ë°˜ë³µë˜ê³ , ê¸¸ì–´ì§€ê³ , ë³µì¡í•´ë³´ì¸ë‹¤.

ì•„ë˜ `HelloReponseDto` í´ë˜ìŠ¤ë¥¼ ë¡¬ë³µìœ¼ë¡œ ë¦¬íŒ©í† ë§í•˜ì—¬ ë¹„êµí•´ë³´ì•˜ë‹¤.

```java
//ë¡¬ë³µì„ ì‚¬ìš©í•˜ì§€ ì•Šì•˜ì„ ë•Œ

public class HelloResponseDto {

    private String name;
    private int amount;

    public HelloResponseDto(String name, int amount) {
        this.name = name;
        this.amount = amount;
    }

    public String getName() {
        return name;
    }

    public int getAmount() {
        return amount;
    }

}
```

```java
//ë¡¬ë³µì„ ì‚¬ìš©í•˜ì—¬ ë¦¬íŒ©í† ë§ í–ˆì„ ë•Œ

import lombok.Getter;
import lombok.RequiredArgsConstructor;

@Getter
@RequiredArgsConstructor
public class HelloResponseDto {

    private final String name;
    private final int amount;

}
```


## ğŸ’œTest

`[ctrl+shift+T]` ë¥¼ ì´ìš©í•´ì„œ `HelloResponseDto` classì˜ í…ŒìŠ¤íŠ¸ í´ë˜ìŠ¤ë¥¼ ë§Œë“¤ì–´ë³¸ë‹¤.

`HelloResponseDto` classì—ì„œ `@Getter` ì–´ë…¸í…Œì´ì…˜ì„ ì‚¬ìš©í–ˆê¸°ë•Œë¬¸ì—, ì„ ì–¸ëœ í•„ë“œì— ëŒ€í•´ ìë™ìœ¼ë¡œ ìƒì„±ëœ Getterê°€ í…ŒìŠ¤íŠ¸ í´ë˜ìŠ¤ë¥¼ ë§Œë“¤ë•Œì— ë³´ì—¬ì§€ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.  

![211009172757.png](/assets/images/211009172757.png)

í…ŒìŠ¤íŠ¸ í´ë˜ìŠ¤ë¥¼ ìƒì„±í•˜ë©´, ìë™ìœ¼ë¡œ junitì˜ `Assert` í´ë˜ìŠ¤ê°€ import ë˜ì–´ìˆë‹¤.

```java
import static org.junit.Assert.*;
```

í•˜ì§€ë§Œ, ì±…ì˜ ì˜ˆì œì—ì„œëŠ” `assertThat` í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•´ junitì˜ ê¸°ë³¸ `assertThat`ì´ ì•„ë‹ˆë¼ `assertj` ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì„ ê¶Œì¥í•œë‹¤.

```java
import static org.assertj.core.api.Assertions.assertThat;
```

ğŸ¥• *`junit`ì—ì„œ ì œê³µí•˜ëŠ” `assertThat` í•¨ìˆ˜ ë§ê³ , `assertj` ë¼ì´ë¸ŒëŸ¬ë¦¬ì˜ `assertThat` í•¨ìˆ˜ ì‚¬ìš©ì„ ê¶Œì¥í•˜ëŠ” ì´ìœ  ?*
 - `junit`ì—ì„œ ì œê³µí•˜ëŠ” `assertThat` í•¨ìˆ˜ì˜ ì¸ìë¡œ ë°›ëŠ” Matchers í•¨ìˆ˜ë“¤ì€ junitì—ì„œ ì˜ì¡´ì„±ì„ ê°–ê³ ìˆëŠ” `org.hamcrest.Matcher` ì— í¬í•¨ëœ í•¨ìˆ˜ë“¤ì¸ë°, ìë™ì™„ì„± ì§€ì›ì´ ì•½í•´ì„œ ë¶ˆí¸í•˜ë‹¤.

 ![211010002213.png](/assets/images/211010002213.png)

 - `assertj` ë¼ì´ë¸ŒëŸ¬ë¦¬ì˜ `assertThat` í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ë©´ í•¨ìˆ˜ ì¸ìë¡œ Matchers í•¨ìˆ˜ë¥¼ ë„˜ê¸°ëŠ” ëŒ€ì‹ ì— `AbstractAssert` classë¥¼ ìƒì†í•œ ê°ì²´ë¥¼ ë‹¤ì‹œ ë¦¬í„´í•´ì„œ ë©”ì†Œë“œ ì²´ì´ë‹ì„ ì´ìš©í•  ìˆ˜ ìˆê³ , `AbstractAssert` classì˜ í•¨ìˆ˜ë“¤ì€ ìë™ì™„ì„± ì§€ì›ì´ ì˜ë˜ì–´ì„œ í¸ë¦¬í•˜ë‹¤.

 ![211010002132.png](/assets/images/211010002132.png)
 
 ![211010002148.png](/assets/images/211010002148.png)

## ğŸ’œFunctions for Test

- `assertThat()`
    - assertj ë¼ì´ë¸ŒëŸ¬ë¦¬ì˜ ê²€ì¦ ë©”ì†Œë“œ
    - ê²€ì¦í•˜ê³  ì‹¶ì€ ëŒ€ìƒì„ ë©”ì†Œë“œ ì¸ìë¡œ ë°›ëŠ”ë‹¤.
    - ë©”ì†Œë“œ ì²´ì´ë‹ ì§€ì› 

- `isEqualTo()`
    - assertj ë¼ì´ë¸ŒëŸ¬ë¦¬ì˜ ë™ë“± ë¹„êµ ë©”ì†Œë“œ
    - `assertThat`ì˜ ì¸ìê°’ê³¼ `isEqualTo`ì˜ ê°’ì„ ë¹„êµí•´ì„œ ê°™ìœ¼ë©´ í…ŒìŠ¤íŠ¸ ì„±ê³µ

- `get()`
- `param()`
- `andExpect()`
- `status().isOk()`
- `jsonPath()`

## ğŸ’œSpring Boot Annotations

 - @RequestParam

## ğŸ’œLombok Annotations

 - @Getter
 - @Setter
 - @Data == (@ToString, @EqualsAndHashCode, @Getter, @Setter, @RequiredArgsConstructor)
 - @RequiredArgsConstructor
    - ì„ ì–¸ëœ ëª¨ë“  `final` í•„ë“œê°€ í¬í•¨ëœ ìƒì„±ìë¥¼ ìƒì„±í•´ì¤€ë‹¤.
    - `final`ì´ ì—†ëŠ” í•„ë“œëŠ” ìƒì„±ìì— í¬í•¨ë˜ì§€ ì•ŠëŠ”ë‹¤.

<br>

>Reference
- [ìŠ¤í”„ë§ë¶€íŠ¸ì™€ AWSë¡œ í˜¼ì êµ¬í˜„í•˜ëŠ” ì›¹ ì„œë¹„ìŠ¤](https://jojoldu.tistory.com/463)
- [Project Lombok](https://projectlombok.org/setup/gradle)
- [[JAVA] LOMBOK ë¡¬ë³µì´ë€? - ì½”ë“œ ë‹¤ì´ì–´íŠ¸](https://cheershennah.tistory.com/183)
- [AssertJê°€ JUnitì˜ assertThat ë³´ë‹¤ í¸ë¦¬í•œ ì´ìœ  - ë°±ê¸°ì„ ë‹˜ ìœ íŠœë¸Œ](https://youtu.be/zLx_fI24UXM)
- [org.junit Class Assert](http://junit.sourceforge.net/javadoc/org/junit/Assert.html#assertThat(java.lang.String,%20T,%20org.hamcrest.Matcher))
- [org.assertj.core.api Class AbstractAssert](https://joel-costigliola.github.io/assertj/core-8/api/org/assertj/core/api/AbstractAssert.html)